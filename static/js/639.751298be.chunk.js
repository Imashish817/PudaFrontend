"use strict";(self.webpackChunkpudafrontend=self.webpackChunkpudafrontend||[]).push([[639,552],{639:function(e,r,t){t.r(r),t.d(r,{User:function(){return g}});var s=t(689),o=t(791),a=t(87),n=t(439),i=t(167);function l(e,r,t){var s=new Date;s.setTime(s.getTime()+24*t*60*60*1e3);var o="expires="+s.toUTCString();document.cookie=e+"="+r+";"+o+";path=/"}var d=t(48),c=t(243),u=t(786);var p=t(184);function m(){var e=(0,o.useState)(""),r=(0,n.Z)(e,2),t=r[0],a=r[1],m=(0,o.useState)(""),x=(0,n.Z)(m,2),h=x[0],b=x[1],f=(0,o.useState)(""),j=(0,n.Z)(f,2),g=j[0],v=j[1],N=o.useContext(i.I).updateUser,w=(0,o.useState)("Login"),y=(0,n.Z)(w,2),R=y[0],P=y[1],S=(0,s.s0)();return(0,p.jsxs)("form",{style:{overflow:"auto"},onSubmit:function(e){var r,s,o;e.preventDefault(),P("Processing your request...."),(r=h,s=t,o=g,new Promise((function(e,t){(0,c.Z)({method:"POST",url:{NODE_ENV:"production",PUBLIC_URL:"/PudaFrontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL+u.Z.USER.AUTH,data:{AadharNo:r,MobileNo:s,Password:o}}).then((function(r){e(r.data)})).catch((function(e){t(e)}))}))).then((function(e){P("Login"),N(e.Name,e.MobileNo,e.AadharNo,e.Files),l(d.l0.KEY,e.token,d.l0.LIFE),"1"===e.UserType?S(d.h1.INDEX):S(d.GN.INDEX)})).catch((function(e){P("Login"),alert(e.response.data.message)}))},children:[(0,p.jsx)("h3",{style:{margin:"20px 0"},children:"Login"}),(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"form-group w-100",children:[(0,p.jsx)("label",{htmlFor:"inputEmail4",children:"Aadhar *"}),(0,p.jsx)("input",{style:{borderWidth:"0px 0px 1px 0px",borderRadius:"0",backgroundColor:"transparent",color:"white"},type:"number",className:"form-control",id:"inputAadhar4",value:h,onInput:function(e){e.target.value.match(/.*[a-z,A-Z].*/i)||b(e.target.value)}})]})}),(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"form-group w-100",children:[(0,p.jsx)("label",{htmlFor:"inputPhone4",children:"Phone *"}),(0,p.jsx)("input",{style:{borderWidth:"0px 0px 1px 0px",borderRadius:"0",backgroundColor:"transparent",color:"white"},type:"tel",className:"form-control",id:"inputPhone4",value:t,onInput:function(e){e.target.value.match(/.*[a-z,A-Z].*/i)||a(e.target.value)}})]})}),(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"form-group w-100",children:[(0,p.jsx)("label",{htmlFor:"inputPassword4",children:"Password *"}),(0,p.jsx)("input",{style:{borderWidth:"0px 0px 1px 0px",borderRadius:"0",backgroundColor:"transparent",color:"white"},type:"password",className:"form-control",id:"inputPassword4",value:g,onInput:function(e){var r=e.target.value;v(r)}})]})}),(0,p.jsx)("div",{style:{margin:"30px 0"},className:"text-center pt-1 pb-1",children:(0,p.jsx)("button",{type:"submit",className:"btn btn-outline-light btn-lg btn-block",style:{borderRadius:"1rem"},children:R})})]})}function x(){return(0,p.jsx)("div",{className:"Login",children:(0,p.jsx)("div",{style:{border:"1px solid #e9ecea00",borderTop:"10px solid #e9ecea00",background:"#3e7651",width:"500px"},className:"card rounded-3 text-white",children:(0,p.jsxs)("div",{style:{margin:"10px",padding:"10px 20px"},className:"card-body",children:[(0,p.jsx)(a.rU,{to:d.xR.REGISTER,children:(0,p.jsxs)("button",{className:"switch btn btn-outline-light",children:["Register",(0,p.jsx)("i",{style:{fontSize:"18pt"},className:"bi bi-arrow-right"})]})}),(0,p.jsx)(m,{})]})})})}function h(){var e=o.useContext(i.I).updateUser;return(0,o.useEffect)((function(){e("","",""),l(d.l0.KEY,"",-1)}),[]),(0,p.jsx)(s.Fg,{to:d.xR.LOGIN})}var b=t(552);function f(){var e=(0,s.s0)(),r=(0,o.useState)(null),t=(0,n.Z)(r,2),a=t[0],i=t[1],l=(0,o.useState)("Register"),m=(0,n.Z)(l,2),x=m[0],h=m[1];return(0,p.jsxs)("form",{style:{overflow:"auto"},onSubmit:function(r){r.preventDefault();var t=r.target,s={Name:t[0].value+" "+t[1].value,MobileNo:t[2].value,AadharNo:t[5].value,Password:t[3].value,Password_Confirmation:t[4].value,UserType:"Normal",tc:!0},o=!0;Object.keys(s).map((function(e){"string"===typeof s[e]&&(s[e]&&s[e].trim()||(o=!1))})),o?s.Password.trim()===s.Password_Confirmation.trim()?s.Password.trim().match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/)?12===s.AadharNo.trim().length?(h("Processing your request...."),function(e){return new Promise((function(r,t){(0,c.Z)({method:"POST",url:{NODE_ENV:"production",PUBLIC_URL:"/PudaFrontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL+u.Z.USER.REGISTER,data:e}).then((function(e){r(e.data)})).catch((function(e){t(e)}))}))}(s).then((function(){h("Register"),e(d.xR.LOGIN)})).catch((function(e){h("Register"),i(e.response.data.message)}))):i("Invalid Aadhar format"):i("Invalid password format"):i("Password and confirm password don't match"):i("All fields are mandatory")},children:[a?(0,p.jsx)("div",{className:"alert alert-danger",role:"alert",children:a}):(0,p.jsx)(p.Fragment,{}),(0,p.jsx)("div",{children:(0,p.jsx)("h3",{style:{margin:"20px 0"},children:"Register"})}),(0,p.jsxs)("div",{className:"form-element form-row",children:[(0,p.jsxs)("div",{className:"form-group col-md-6",children:[(0,p.jsx)("label",{htmlFor:"inputFirstName",children:"First Name *"}),(0,p.jsx)("input",{style:{borderWidth:"0px 0px 1px 0px",borderRadius:"0",backgroundColor:"transparent",color:"white"},type:"text",className:"form-control",id:"inputFirstName"})]}),(0,p.jsxs)("div",{className:"form-group col-md-6",children:[(0,p.jsx)("label",{htmlFor:"inputLastName",children:"Last Name *"}),(0,p.jsx)("input",{style:{borderWidth:"0px 0px 1px 0px",borderRadius:"0",backgroundColor:"transparent",color:"white"},type:"text",className:"form-control",id:"inputLastName"})]})]}),(0,p.jsxs)("div",{className:"form-element form-group",children:[(0,p.jsx)("label",{htmlFor:"phone",children:"Mobile No. *"}),(0,p.jsx)("input",{style:{borderWidth:"0px 0px 1px 0px",borderRadius:"0",backgroundColor:"transparent",color:"white"},type:"tel",className:"form-control",id:"phone"})]}),(0,p.jsxs)("div",{className:"form-element form-row",children:[(0,p.jsxs)("div",{className:"form-group col-md-6",children:[(0,p.jsx)("label",{htmlFor:"inputPassword",children:"Password *"}),(0,p.jsx)("input",{style:{borderWidth:"0px 0px 1px 0px",borderRadius:"0",backgroundColor:"transparent",color:"white"},type:"password",className:"form-control",id:"inputPassword"})]}),(0,p.jsxs)("div",{className:"form-group col-md-6",children:[(0,p.jsx)("label",{htmlFor:"inputPassword2",children:"Confirm Password *"}),(0,p.jsx)("input",{style:{borderWidth:"0px 0px 1px 0px",borderRadius:"0",backgroundColor:"transparent",color:"white"},type:"password",className:"form-control",id:"inputPassword2"})]})]}),(0,p.jsxs)("div",{className:"form-element form-group",children:[(0,p.jsx)("label",{htmlFor:"aadhar",children:"Aadhar No. *"}),(0,p.jsx)("input",{style:{borderWidth:"0px 0px 1px 0px",borderRadius:"0",backgroundColor:"transparent",color:"white"},type:"number",className:"form-control",id:"aadhar"})]}),(0,p.jsx)("div",{style:{margin:"20px 0"},className:"text-center pt-1 pb-1",children:(0,p.jsx)("button",{type:"submit",className:"btn btn-outline-light btn-lg btn-block",style:{borderRadius:"1rem"},children:x})})]})}function j(){return(0,p.jsx)("div",{className:"Register",children:(0,p.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,p.jsx)("div",{style:{background:"#3e7651"},className:"card rounded-3 text-white",children:(0,p.jsxs)("div",{style:{margin:"10px",padding:"10px 20px"},className:"card-body",children:[(0,p.jsx)(a.rU,{to:d.xR.LOGIN,children:(0,p.jsxs)("button",{className:"switch btn btn-outline-light",children:["Login",(0,p.jsx)("i",{style:{fontSize:"18pt"},className:"bi bi-arrow-right"})]})}),(0,p.jsx)(f,{})]})})})})}function g(){return(0,p.jsx)("div",{style:{height:"90%",overflow:"auto"},children:(0,p.jsxs)(s.Z5,{children:[(0,p.jsx)(s.AW,{path:"/login",element:(0,p.jsx)(x,{})}),(0,p.jsx)(s.AW,{path:"/register",element:(0,p.jsx)(j,{})}),(0,p.jsx)(s.AW,{path:"/logout",element:(0,p.jsx)(h,{})}),(0,p.jsx)(s.AW,{path:"*",element:(0,p.jsx)(b.ResourceError,{errorCode:404})})]})})}},552:function(e,r,t){t.r(r),t.d(r,{ResourceError:function(){return o}});t(791);var s=t(184);function o(e){return(0,s.jsxs)("h1",{children:["Unable to load resource ",e.errorCode]})}}}]);
//# sourceMappingURL=639.751298be.chunk.js.map